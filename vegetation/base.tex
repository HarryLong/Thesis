\chapter{Vegetation} \label{chap:vegetation}

Vegetation is an essential part of rural terrains is vegetation. Available resources determine which plant species are able to grow and to what extent they strive in a given environment. Reproducing this link between species and climate is essential to determining suitable vegetation and, subsequently, generating plausible terrains. \\

To determine environments suited for given species, they are configured with associated resource requirements as outlined in section \ref{sec:plant_species}. Given these properties, it is possible to automatically filter out ill-suited plants. Information about this automatic filtering is outlined in section \ref{sec:plant_suitability_filtering}.\\

Although a multitude of plants can grow in a given environment, some will naturally flourish more than others. This can be because resources are more suitable or they have a faster, more aggressive growth rate. To model this intra-species battle for resources and  determine a suitable vegetative state, an ecosystem simulator is used which models the natural process of plants battling to capture available resources to optimize health and, therefore, growth.\\
Plant growth is highly complex and is driven by a multitude of processes interacting simultaneously \cite{Fourcaud2008}. As such, any plant growth modeller will be a drastic simplification of the real-world equivalent. The level of detail of existing plant growth modellers depend heavily on there target use. Those used to optimize crop yield, for example, need to model the process in great detail for the results to be trustworthy ~\cite{Soler2001,Soler2003,Yan2004}. Downsides of such detailed modellers, however, is that they are often fine-tuned to specific plant species and require large amounts of configuration and processing time.\\
Because this system targets visual realism and not botanical realism, focuses on real-time interactivity and needs to determine plausible distributions for large areas, a minimalistic approach is taken, inspired by the work by Deussen et al. \cite{Deussen1998}. Although it extends their work by modelling resource requirements and availability in greater detail, important factors are still discarded, including: soil nutrients, soil depth and plant geometry modelling to accurately model photosynthesis and light propagation. Details of the ecosystem simulator used here can be found in section \ref{sec:ecosystem_simulator}.\\

The ecosystem simulator is computationally expensive and can take some time to determine a valid distribution. The simulation time is dependent on the number of plant instances, the simulation area and the timespan. To accelerate the process, the ecosystem simulator is run over a small area and the resulting distribution analysed in order to efficiently reproduce it on larger areas. A caching system is also used to prevent users from having to run the same costly simulation more than once. Information about these features is discussed in section \ref{sec:dist_analysis_and_rep}.
